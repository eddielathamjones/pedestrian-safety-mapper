<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pedestrian Safety Mapper</title>

  <link rel="stylesheet" href="https://unpkg.com/maplibre-gl@4.7.1/dist/maplibre-gl.css" />
  <link rel="stylesheet" href="css/app.css" />
</head>
<body>

  <div id="map"></div>

  <div id="controls">
    <div id="controls-header">
      <h1>Pedestrian Fatalities</h1>
      <p class="subtitle">FARS · 2001–2022</p>
    </div>

    <div class="control-group">
      <label>Years</label>
      <div style="display:flex;gap:6px;align-items:center;">
        <select id="year-from"></select>
        <span style="color:var(--text-muted);font-size:11px;flex-shrink:0;">–</span>
        <select id="year-to"></select>
      </div>
    </div>

    <div id="stats">
      <div id="count"></div>
    </div>

    <div class="divider"></div>

    <div id="anim-controls">
      <div class="control-group">
        <label>Mode</label>
        <div class="view-toggle">
          <button class="view-btn active" id="anim-mode-day">Day</button>
          <button class="view-btn" id="anim-mode-week">Week</button>
        </div>
      </div>
      <div class="control-group">
        <label>Playback</label>
        <div style="display:flex;gap:6px;">
          <button id="anim-playpause" style="flex:1">⏸ Pause</button>
          <button id="anim-rewind">⏮</button>
        </div>
      </div>
      <div class="control-group">
        <label>Trail — <span id="trail-value">3h</span></label>
        <input type="range" id="trail-slider" min="1" max="12" step="0.5" value="3" />
      </div>
    </div>

    <div class="divider"></div>
    <p id="solar-ref" class="subtitle"></p>
  </div>

  <div id="loading-bar" class="hidden"></div>

  <script src="https://unpkg.com/maplibre-gl@4.7.1/dist/maplibre-gl.js"></script>
  <script src="https://unpkg.com/suncalc@1.9.0/suncalc.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
